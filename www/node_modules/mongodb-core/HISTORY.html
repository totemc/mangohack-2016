<h2>1.3.1 2016-02-05</h2><ul>
<li>Removed annoying missing Kerberos error (NODE-654).</li>
</ul>
<h2>1.3.0 2016-02-03</h2><ul>
<li>Added raw support for the command function on topologies.</li>
<li>Fixed issue where raw results that fell on batchSize boundaries failed (Issue #72)</li>
<li>Copy over all the properties to the callback returned from bindToDomain, (Issue #72)</li>
<li>Added connection hash id to be able to reference connection host/name without leaking it outside of driver.</li>
<li>NODE-638, Cannot authenticate database user with utf-8 password.</li>
<li>Refactored pool to be worker queue based, minimizing the impact a slow query have on throughput as long as # slow queries &lt; # connections in the pool.</li>
<li>Pool now grows and shrinks correctly depending on demand not causing a full pool reconnect.</li>
<li>Improvements in monitoring of a Replicaset where in certain situations the inquiry process could get exited.</li>
<li>Switched to using Array.push instead of concat for use cases of a lot of documents.</li>
<li>Fixed issue where re-authentication could loose the credentials if whole Replicaset disconnected at once.</li>
<li>Added peer optional dependencies support using require_optional module.</li>
</ul>
<h2>1.2.32 2016-01-12</h2><ul>
<li>Bumped bson to V0.4.21 to allow using minor optimizations.</li>
</ul>
<h2>1.2.31 2016-01-04</h2><ul>
<li>Allow connection to secondary if primaryPreferred or secondaryPreferred (Issue #70, <a href="https://github.com/leichter">https://github.com/leichter</a>)</li>
</ul>
<h2>1.2.30 2015-12-23</h2><ul>
<li>Pool allocates size + 1 connections when using replicasets, reserving additional pool connection for monitoring exclusively.</li>
<li>Fixes bug when all replicaset members are down, that would cause it to fail to reconnect using the originally provided seedlist.</li>
</ul>
<h2>1.2.29 2015-12-17</h2><ul>
<li>Correctly emit close event when calling destroy on server topology.</li>
</ul>
<h2>1.2.28 2015-12-13</h2><ul>
<li>Backed out Prevent Maximum call stack exceeded by calling all callbacks on nextTick, (Issue #64, <a href="https://github.com/iamruinous">https://github.com/iamruinous</a>) as it breaks node 0.10.x support.</li>
</ul>
<h2>1.2.27 2015-12-13</h2><ul>
<li>Added [options.checkServerIdentity=true] {boolean|function}. Ensure we check server identify during SSL, set to false to disable checking. Only works for Node 0.12.x or higher. You can pass in a boolean or your own checkServerIdentity override function, (Issue #29).</li>
<li>Prevent Maximum call stack exceeded by calling all callbacks on nextTick, (Issue #64, <a href="https://github.com/iamruinous">https://github.com/iamruinous</a>).</li>
<li>State is not defined in mongos, (Issue #63, <a href="https://github.com/flyingfisher">https://github.com/flyingfisher</a>).</li>
<li>Fixed corner case issue on exhaust cursors on pre 3.0.x MongoDB.</li>
</ul>
<h2>1.2.26 2015-11-23</h2><ul>
<li>Converted test suite to use mongodb-topology-manager.</li>
<li>Upgraded bson library to V0.4.20.</li>
<li>Minor fixes for 3.2 readPreferences.</li>
</ul>
<h2>1.2.25 2015-11-23</h2><ul>
<li>Correctly error out when passed a seedlist of non-valid server members.</li>
</ul>
<h2>1.2.24 2015-11-20</h2><ul>
<li>Fix Automattic/mongoose#3481; flush callbacks on error, (Issue #57, <a href="https://github.com/vkarpov15">https://github.com/vkarpov15</a>).</li>
<li>$explain query for wire protocol 2.6 and 2.4 does not set number of returned documents to -1 but to 0.</li>
</ul>
<h2>1.2.23 2015-11-16</h2><ul>
<li>ismaster runs against admin.$cmd instead of system.$cmd.</li>
</ul>
<h2>1.2.22 2015-11-16</h2><ul>
<li>Fixes to handle getMore command errors for MongoDB 3.2</li>
<li>Allows the process to properly close upon a Db.close() call on the replica set by shutting down the haTimer and closing arbiter connections.</li>
</ul>
<h2>1.2.21 2015-11-07</h2><ul>
<li>Hardened the checking for replicaset equality checks.</li>
<li>OpReplay flag correctly set on Wire protocol query.</li>
<li>Mongos load balancing added, introduced localThresholdMS to control the feature.</li>
<li>Kerberos now a peerDependency, making it not install it by default in Node 5.0 or higher.</li>
</ul>
<h2>1.2.20 2015-10-28</h2><ul>
<li>Fixed bug in arbiter connection capping code.</li>
<li>NODE-599 correctly handle arrays of server tags in order of priority.</li>
<li>Fix for 2.6 wire protocol handler related to readPreference handling.</li>
<li>Added maxAwaitTimeMS support for 3.2 getMore to allow for custom timeouts on tailable cursors.</li>
<li>Make CoreCursor check for $err before saying that &#39;next&#39; succeeded (Issue #53, <a href="https://github.com/vkarpov15">https://github.com/vkarpov15</a>).</li>
</ul>
<h2>1.2.19 2015-10-15</h2><ul>
<li>Make batchSize always be &gt; 0 for 3.2 wire protocol to make it work consistently with pre 3.2 servers.</li>
<li>Locked to bson 0.4.19.</li>
</ul>
<h2>1.2.18 2015-10-15</h2><ul>
<li>Minor 3.2 fix for handling readPreferences on sharded commands.</li>
<li>Minor fixes to correctly pass APM specification test suite.</li>
</ul>
<h2>1.2.17 2015-10-08</h2><ul>
<li>Connections to arbiters only maintain a single connection.</li>
</ul>
<h2>1.2.15 2015-10-06</h2><ul>
<li>Set slaveOk to true for getMore and killCursors commands.</li>
<li>Don&#39;t swallow callback errors for 2.4 single server (Issue #49, <a href="https://github.com/vkarpov15">https://github.com/vkarpov15</a>).</li>
<li>Apply toString(&#39;hex&#39;) to each buffer in an array when logging (Issue #48, <a href="https://github.com/nbrachet">https://github.com/nbrachet</a>).</li>
</ul>
<h2>1.2.14 2015-09-28</h2><ul>
<li>NODE-547 only emit error if there are any listeners.</li>
<li>Fixed APM issue with issuing readConcern.</li>
</ul>
<h2>1.2.13 2015-09-18</h2><ul>
<li>Added BSON serializer ignoreUndefined option for insert/update/remove/command/cursor.</li>
</ul>
<h2>1.2.12 2015-09-08</h2><ul>
<li>NODE-541 Added initial support for readConcern.</li>
</ul>
<h2>1.2.11 2015-08-31</h2><ul>
<li>NODE-535 If connectWithNoPrimary is true then primary-only connection is not allowed.</li>
<li>NODE-534 Passive secondaries are not allowed for secondaryOnlyConnectionAllowed.</li>
<li>Fixed filtering bug for logging (Issue 30, <a href="https://github.com/christkv/mongodb-core/issues/30">https://github.com/christkv/mongodb-core/issues/30</a>).</li>
</ul>
<h2>1.2.10 2015-08-14</h2><ul>
<li>Added missing Mongos.prototype.parserType function.</li>
</ul>
<h2>1.2.9 2015-08-05</h2><ul>
<li>NODE-525 Reset connectionTimeout after it&#39;s overwritten by tls.connect.</li>
<li>NODE-518 connectTimeoutMS is doubled in 2.0.39.</li>
</ul>
<h2>1.2.8 2015-07-24</h2><ul>
<li>Minor fix to handle 2.4.x errors better by correctly return driver layer issues.</li>
</ul>
<h2>1.2.7 2015-07-16</h2><ul>
<li>Refactoring to allow to tap into find/getmore/killcursor in cursors for APM monitoring in driver.</li>
</ul>
<h2>1.2.6 2015-07-14</h2><ul>
<li>NODE-505 Query fails to find records that have a &#39;result&#39; property with an array value.</li>
</ul>
<h2>1.2.5 2015-07-14</h2><ul>
<li>NODE-492 correctly handle hanging replicaset monitoring connections when server is unavailable due to network partitions or firewalls dropping packets, configureable using the connectionTimeoutMS setting.</li>
</ul>
<h2>1.2.4 2015-07-07</h2><ul>
<li>NODE-493 staggering the socket connections to avoid overwhelming the mongod process.</li>
</ul>
<h2>1.2.3 2015-06-26</h2><ul>
<li>Minor bug fixes.</li>
</ul>
<h2>1.2.2 2015-06-22</h2><ul>
<li>Fix issue with SCRAM authentication causing authentication to return true on failed authentication (Issue 26, <a href="https://github.com/cglass17">https://github.com/cglass17</a>).</li>
</ul>
<h2>1.2.1 2015-06-17</h2><ul>
<li>Ensure serializeFunctions passed down correctly to wire protocol.</li>
</ul>
<h2>1.2.0 2015-06-17</h2><ul>
<li>Switching to using the 0.4.x pure JS serializer, removing dependency on C++ parser.</li>
<li>Refactoring wire protocol messages to avoid expensive size calculations of documents in favor of writing out an array of buffers to the sockets.</li>
<li>NODE-486 fixed issue related to limit and skip when calling toArray in 2.0 driver.</li>
<li>NODE-483 throw error if capabilities of topology is queries before topology has performed connection setup.</li>
<li>NODE-487 fixed issue where killcursor command was not being sent correctly on limit and skip queries.</li>
</ul>
<h2>1.1.33 2015-05-31</h2><ul>
<li>NODE-478 Work around authentication race condition in mongos authentication due to multi step authentication methods like SCRAM.</li>
</ul>
<h2>1.1.32 2015-05-20</h2><ul>
<li>After reconnect, it updates the allowable reconnect retries to the option settings (Issue #23, <a href="https://github.com/owenallenaz">https://github.com/owenallenaz</a>)</li>
</ul>
<h2>1.1.31 2015-05-19</h2><ul>
<li>Minor fixes for issues with re-authentication of mongos.</li>
</ul>
<h2>1.1.30 2015-05-18</h2><ul>
<li>Correctly emit &#39;all&#39; event when primary + all secondaries have connected.</li>
</ul>
<h2>1.1.29 2015-05-17</h2><ul>
<li>NODE-464 Only use a single socket against arbiters and hidden servers.</li>
<li>Ensure we filter out hidden servers from any server queries.</li>
</ul>
<h2>1.1.28 2015-05-12</h2><ul>
<li>Fixed buffer compare for electionId for &lt; node 12.0.2</li>
</ul>
<h2>1.1.27 2015-05-12</h2><ul>
<li>NODE-455 Update SDAM specification support to cover electionId and Mongos load balancing.</li>
</ul>
<h2>1.1.26 2015-05-06</h2><ul>
<li>NODE-456 Allow mongodb-core to pipeline commands (ex findAndModify+GLE) along the same connection and handle the returned results.</li>
<li>Fixes to make mongodb-core work for node 0.8.x when using scram and setImmediate.</li>
</ul>
<h2>1.1.25 2015-04-24</h2><ul>
<li>Handle lack of callback in crud operations when returning error on application closed.</li>
</ul>
<h2>1.1.24 2015-04-22</h2><ul>
<li>Error out when topology has been destroyed either by connection retries being exhausted or destroy called on topology.</li>
</ul>
<h2>1.1.23 2015-04-15</h2><ul>
<li>Standardizing mongoErrors and its API (Issue #14)</li>
<li>Creating a new connection is slow because of 100ms setTimeout() (Issue #17, <a href="https://github.com/vkarpov15">https://github.com/vkarpov15</a>)</li>
<li>remove mkdirp and rimraf dependencies (Issue #12)</li>
<li>Updated default value of param options.rejectUnauthorized to match documentation (Issue #16)</li>
<li>ISSUE: NODE-417 Resolution. Improving behavior of thrown errors (Issue #14, <a href="https://github.com/owenallenaz">https://github.com/owenallenaz</a>)</li>
<li>Fix cursor hanging when next() called on exhausted cursor (Issue #18, <a href="https://github.com/vkarpov15">https://github.com/vkarpov15</a>)</li>
</ul>
<h2>1.1.22 2015-04-10</h2><ul>
<li>Minor refactorings in cursor code to make extending the cursor simpler.</li>
<li>NODE-417 Resolution. Improving behavior of thrown errors using Error.captureStackTrace.</li>
</ul>
<h2>1.1.21 2015-03-26</h2><ul>
<li>Updated bson module to 0.3.0 that extracted the c++ parser into bson-ext and made it an optional dependency.</li>
</ul>
<h2>1.1.20 2015-03-24</h2><ul>
<li>NODE-395 Socket Not Closing, db.close called before full set finished initalizing leading to server connections in progress not being closed properly.</li>
</ul>
<h2>1.1.19 2015-03-21</h2><ul>
<li>Made kerberos module ~0.0 to allow for quicker releases due to io.js of kerberos module.</li>
</ul>
<h2>1.1.18 2015-03-17</h2><ul>
<li>Added support for minHeartbeatFrequencyMS on server reconnect according to the SDAM specification.</li>
</ul>
<h2>1.1.17 2015-03-16</h2><ul>
<li>NODE-377, fixed issue where tags would correctly be checked on secondary and nearest to filter out eligible server candidates.</li>
</ul>
<h2>1.1.16 2015-03-06</h2><ul>
<li>rejectUnauthorized parameter is set to true for ssl certificates by default instead of false.</li>
</ul>
<h2>1.1.15 2015-03-04</h2><ul>
<li>Removed check for type in replset pickserver function.</li>
</ul>
<h2>1.1.14 2015-02-26</h2><ul>
<li>NODE-374 correctly adding passive secondaries to the list of eligable servers for reads</li>
</ul>
<h2>1.1.13 2015-02-24</h2><ul>
<li>NODE-365 mongoDB native node.js driver infinite reconnect attempts (fixed issue around handling of retry attempts)</li>
</ul>
<h2>1.1.12 2015-02-16</h2><ul>
<li>Fixed cursor transforms for buffered document reads from cursor.</li>
</ul>
<h2>1.1.11 2015-02-02</h2><ul>
<li>Remove the required setName for replicaset connections, if not set it will pick the first setName returned.</li>
</ul>
<h2>1.1.10 2015-31-01</h2><ul>
<li>Added tranforms.doc option to cursor to allow for pr. document transformations.</li>
</ul>
<h2>1.1.9 2015-21-01</h2><ul>
<li>Updated BSON dependency to 0.2.18 to fix issues with io.js and node.</li>
<li>Updated Kerberos dependency to 0.0.8 to fix issues with io.js and node.</li>
<li>Don&#39;t treat findOne() as a command cursor.</li>
<li>Refactored out state changes into methods to simplify read the next method.</li>
</ul>
<h2>1.1.8 2015-09-12</h2><ul>
<li>Stripped out Object.defineProperty for performance reasons</li>
<li>Applied more performance optimizations.</li>
<li>properties cursorBatchSize, cursorSkip, cursorLimit are not methods setCursorBatchSize/cursorBatchSize, setCursorSkip/cursorSkip, setCursorLimit/cursorLimit</li>
</ul>
<h2>1.1.7 2014-18-12</h2><ul>
<li>Use ns variable for getMore commands for command cursors to work properly with cursor version of listCollections and listIndexes.</li>
</ul>
<h2>1.1.6 2014-18-12</h2><ul>
<li>Server manager fixed to support 2.2.X servers for travis test matrix.</li>
</ul>
<h2>1.1.5 2014-17-12</h2><ul>
<li>Fall back to errmsg when creating MongoError for command errors</li>
</ul>
<h2>1.1.4 2014-17-12</h2><ul>
<li>Added transform method support for cursor (initially just for initial query results) to support listCollections/listIndexes in 2.8.</li>
<li>Fixed variable leak in scram.</li>
<li>Fixed server manager to deal better with killing processes.</li>
<li>Bumped bson to 0.2.16.</li>
</ul>
<h2>1.1.3 2014-01-12</h2><ul>
<li>Fixed error handling issue with nonce generation in mongocr.</li>
<li>Fixed issues with restarting servers when using ssl.</li>
<li>Using strict for all classes.</li>
<li>Cleaned up any escaping global variables.</li>
</ul>
<h2>1.1.2 2014-20-11</h2><ul>
<li>Correctly encoding UTF8 collection names on wire protocol messages.</li>
<li>Added emitClose parameter to topology destroy methods to allow users to specify that they wish the topology to emit the close event to any listeners.</li>
</ul>
<h2>1.1.1 2014-14-11</h2><ul>
<li>Refactored code to use prototype instead of privileged methods.</li>
<li>Fixed issue with auth where a runtime condition could leave replicaset members without proper authentication.</li>
<li>Several deopt optimizations for v8 to improve performance and reduce GC pauses.</li>
</ul>
<h2>1.0.5 2014-29-10</h2><ul>
<li>Fixed issue with wrong namespace being created for command cursors.</li>
</ul>
<h2>1.0.4 2014-24-10</h2><ul>
<li>switched from using shift for the cursor due to bad slowdown on big batchSizes as shift causes entire array to be copied on each call.</li>
</ul>
<h2>1.0.3 2014-21-10</h2><ul>
<li>fixed error issuing problem on cursor.next when iterating over a huge dataset with a very small batchSize.</li>
</ul>
<h2>1.0.2 2014-07-10</h2><ul>
<li>fullsetup is now defined as a primary and secondary being available allowing for all read preferences to be satisfied.</li>
<li>fixed issue with replset_state logging.</li>
</ul>
<h2>1.0.1 2014-07-10</h2><ul>
<li>Dependency issue solved</li>
</ul>
<h2>1.0.0 2014-07-10</h2><ul>
<li>Initial release of mongodb-core</li>
</ul>
