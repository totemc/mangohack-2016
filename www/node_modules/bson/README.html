<h1>Javascript + C++ BSON parser</h1><p>This BSON parser is primarily meant to be used with the <code>mongodb</code> node.js driver.
However, wonderful tools such as <code>onejs</code> can package up a BSON parser that will work in the browser.
The current build is located in the <code>browser_build/bson.js</code> file.</p>
<p>A simple example of how to use BSON in the browser:</p>
<pre><code class="language-html">&lt;html&gt;
&lt;head&gt;
  &lt;script src=&quot;https://raw.github.com/mongodb/js-bson/master/browser_build/bson.js&quot;&gt;
  &lt;/script&gt;
&lt;/head&gt;
&lt;body onload=&quot;start();&quot;&gt;
&lt;script&gt;
  function start() {
    var BSON = bson().BSON;
    var Long = bson().Long;

    var doc = {long: Long.fromNumber(100)}

    // Serialize a document
    var data = BSON.serialize(doc, false, true, false);
    // De serialize it again
    var doc_2 = BSON.deserialize(data);
  }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>A simple example of how to use BSON in <code>node.js</code>:</p>
<pre><code class="language-javascript">var bson = require(&quot;bson&quot;);
var BSON = new bson.BSONPure.BSON();
var Long = bson.BSONPure.Long;

var doc = {long: Long.fromNumber(100)}

// Serialize a document
var data = BSON.serialize(doc, false, true, false);
console.log(&quot;data:&quot;, data);

// Deserialize the resulting Buffer
var doc_2 = BSON.deserialize(data);
console.log(&quot;doc_2:&quot;, doc_2);
</code></pre>
<p>The API consists of two simple methods to serialize/deserialize objects to/from BSON format:</p>
<ul>
<li><p>BSON.serialize(object, checkKeys, asBuffer, serializeFunctions)</p>
<ul>
<li>@param {Object} object the Javascript object to serialize.</li>
<li>@param {Boolean} checkKeys the serializer will check if keys are valid.</li>
<li>@param {Boolean} asBuffer return the serialized object as a Buffer object <strong>(ignore)</strong>.</li>
<li>@param {Boolean} serializeFunctions serialize the javascript functions <strong>(default:false)</strong></li>
<li>@return {TypedArray/Array} returns a TypedArray or Array depending on what your browser supports</li>
</ul>
</li>
<li><p>BSON.deserialize(buffer, options, isArray)</p>
<ul>
<li>Options<ul>
<li><strong>evalFunctions</strong> {Boolean, default:false}, evaluate functions in the BSON document scoped to the object deserialized.</li>
<li><strong>cacheFunctions</strong> {Boolean, default:false}, cache evaluated functions for reuse.</li>
<li><strong>cacheFunctionsCrc32</strong> {Boolean, default:false}, use a crc32 code for caching, otherwise use the string of the function.</li>
<li><strong>promoteBuffers</strong> {Boolean, default:false}, deserialize Binary data directly into node.js Buffer object.</li>
</ul>
</li>
<li>@param {TypedArray/Array} a TypedArray/Array containing the BSON data</li>
<li>@param {Object} [options] additional options used for the deserialization.</li>
<li>@param {Boolean} [isArray] ignore used for recursive parsing.</li>
<li>@return {Object} returns the deserialized Javascript Object.</li>
</ul>
</li>
</ul>
